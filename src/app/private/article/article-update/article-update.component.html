<div class="title-container">
    <h1>Modification d'article</h1>
</div>

<nb-card>
    <nb-card-body [nbSpinner]="showCardSpinner">
        <form [formGroup]="updateForm" (ngSubmit)="onSubmit()">
            <div class="flex-row space-between">
                <div class="flex-column">
                    <label for="title">Titre *</label>
                    <input
                        nbInput
                        status="basic"
                        formControlName="title"
                        id="title"
                        type="text"
                        placeholder="Ex: Qu'est-ce qu'un mémoire ?"
                    >
                </div>
                <div class="flex-column">
                    <label for="name">Catégorie *</label>
                    <nb-select
                        formControlName="category"
                        placeholder="Choisissez une catégorie"
                    >
                        <nb-option *ngFor="let category of categories" value="{{ category.slug }}">{{ category.name }}</nb-option>
                    </nb-select>
                </div>
            </div>
            <div class="flex-row space-between">
                <div class="flex-column">
                    <label for="summary">
                        Résumé *
                        <i
                            nbTooltip="Utilisé comme description de l'article."
                            class="fa-solid fa-circle-info"
                        ></i>
                    </label>
                    <input
                        nbInput
                        status="basic"
                        formControlName="summary"
                        id="summary"
                        type="text"
                        placeholder="Ex: Un mémoire est l’aboutissement d’un cursus universitaire validant votre diplôme de fin d’études. Il existe différents types de mémoire répondant chacun à des normes formelles et rédactionnelles spécifiques..."
                    >
                </div>
            </div>
            <div class="flex-column">
                <label for="content">Contenu *</label>
                <angular-editor
                    [placeholder]="'Enter text here...'"
                    formControlName="content"
                    [config]="editorConfig"
                    id="content"
                ></angular-editor>
            </div>
            <div class="flex-row space-between">
                <button
                    nbButton
                    status="warning"
                    outline
                    routerLink="/article"
                    type="button"
                >
                    <i class="fa-solid fa-arrow-left"></i>
                    Retour à la liste
                </button>
                <button
                    nbButton
                    status="primary"
                    [disabled]="showSpinner || this.updateForm.invalid"
                    [nbSpinner]="showSpinner"
                    nbSpinnerStatus="basic"
                    class="float-right yellow"
                    type="submit"
                >
                    <i class="fa-solid fa-pen"></i>
                    Mettre à jour
                </button>
            </div>
        </form>
    </nb-card-body>
</nb-card>